<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <title>Byte Sync Informatic - Links</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet" />
  <link rel="icon" href="Favicon.ico" type="image/x-icon" />

  <style>
    /* Reset b√°sico */
    *, *::before, *::after {
      margin: 0;
      padding: 0;
      box-sizing: border-box;

      user-select: none;
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
    }

    /* V√≠deo de fundo */
    #bg-video {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      object-fit: cover;
      z-index: -1;
      pointer-events: none;
      opacity: 0;
      transition: opacity 0.25s ease;
      will-change: opacity;
      background: black; /* fallback */
    }

    /* Estilo geral do body */
    body {
      font-family: 'Inter', sans-serif;
      background-color: #000;
      color: #fff;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 20px;
      overflow-x: hidden;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      line-height: 1.4;
    }

    /* Container central */
    .container {
      max-width: 400px;
      width: 100%;
      text-align: center;
      backdrop-filter: blur(4px);
      background: rgba(0, 0, 0, 0.6);
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 0 20px #462975;
    }

    /* Imagem de perfil/logo */
    .profile-pic {
      width: 120px;
      height: 120px;
      border-radius: 50%;
      object-fit: cover;
      margin-bottom: 20px;
      border: 3px solid #462975;
      box-shadow: 0 0 15px #462975;

      user-select: none;
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;

      -webkit-touch-callout: none; /* desabilita menu contextual no iOS */
      -webkit-user-drag: none;     /* impede arrastar imagem em Safari/Chrome */
    }

    /* T√≠tulo */
    h1 {
      font-size: 1.8rem;
      margin-bottom: 10px;
      color: #fff;
      text-shadow: 0 0 8px #462975, 0 0 4px #000;
      word-break: break-word;
    }

    /* Texto de descri√ß√£o */
    p {
      margin-bottom: 20px;
      color: #fff;
      text-shadow: 0 0 8px #462975, 0 0 4px #000;
      word-break: break-word;
    }

    /* Bot√µes de link */
    .links a {
      display: block;
      background-color: #462975;
      color: #fff;
      text-decoration: none;
      padding: 15px;
      margin: 10px 0;
      border-radius: 8px;
      box-shadow: 0 0 15px #462975;
      font-weight: 700;
      font-size: 1rem;
      transition: transform 0.3s ease, box-shadow 0.3s ease, background-color 0.3s ease;
      outline-offset: 4px;
      outline-color: transparent;
      cursor: pointer;
    }

    .links a:focus-visible {
      outline: 2px solid #fff;
      box-shadow: 0 0 8px #fff;
    }

    .links a:hover,
    .links a:focus-visible {
      transform: translateY(-5px);
      box-shadow: 0 0 30px rgba(233, 30, 99, 1), 0 0 40px rgba(233, 30, 99, 0.7);
      background-color: #c2185b;
      outline-color: transparent;
    }

    /* Texto de copyright */
    #copyright {
      margin-top: 20px;
      font-size: 0.8rem;
      color: #aaa;
    }

    /* Assistente Virtual */
    .assistant-container {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 1000;
      transition: all 0.3s ease;
    }

    .assistant-toggle {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: linear-gradient(135deg, #462975, #c2185b);
      border: none;
      cursor: pointer;
      box-shadow: 0 4px 15px rgba(70, 41, 117, 0.4);
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      color: white;
      position: relative;
      overflow: hidden;
    }

    .assistant-toggle:hover {
      transform: scale(1.1);
      box-shadow: 0 6px 20px rgba(70, 41, 117, 0.6);
    }

    .assistant-toggle::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(135deg, #c2185b, #462975);
      opacity: 0;
      transition: opacity 0.3s ease;
      border-radius: 50%;
    }

    .assistant-toggle:hover::before {
      opacity: 1;
    }

    .assistant-toggle span {
      position: relative;
      z-index: 1;
    }

    .assistant-title {
      position: absolute;
      right: 80px;
      bottom: 15px;
      color: #fff;
      font-size: 1rem;
      font-weight: 700;
      text-shadow: 0 0 8px #462975, 0 0 4px #000;
      margin: 0;
      white-space: nowrap;
      opacity: 0.9;
      transition: opacity 0.3s ease;
      display: flex;
      align-items: center;
    }

    .assistant-title:hover {
      opacity: 1;
    }

    .assistant-box {
      position: absolute;
      bottom: 70px;
      right: 0;
      width: 300px;
      max-height: 450px;
      backdrop-filter: blur(4px);
      background: rgba(0, 0, 0, 0.6);
      border: 2px solid #462975;
      border-radius: 15px;
      box-shadow: 0 0 20px #462975;
      opacity: 0;
      visibility: hidden;
      transform: translateY(20px) scale(0.9);
      transition: all 0.3s ease;
      overflow: hidden;
    }

    .assistant-box.active {
      opacity: 1;
      visibility: visible;
      transform: translateY(0) scale(1);
    }

    .assistant-header {
      background: linear-gradient(135deg, #462975, #c2185b);
      padding: 15px;
      text-align: center;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 13px 13px 0 0;
    }

    .assistant-header h3 {
      color: white;
      font-size: 1rem;
      margin: 0;
      text-shadow: 0 0 8px rgba(0, 0, 0, 0.5);
    }

    .assistant-content {
      display: flex;
      flex-direction: column;
      height: 350px;
      background: transparent;
    }

    .assistant-message {
      background: rgba(70, 41, 117, 0.2);
      border: 1px solid rgba(70, 41, 117, 0.3);
      border-radius: 10px;
      padding: 15px;
      margin-bottom: 15px;
      color: #fff;
      font-size: 0.9rem;
      line-height: 1.4;
    }

    .assistant-actions {
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-top: 15px;
    }

    .assistant-btn {
      background: #462975;
      color: white;
      border: none;
      padding: 10px 15px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 0.85rem;
      font-weight: 600;
      transition: all 0.3s ease;
      text-decoration: none;
      text-align: center;
      display: block;
    }

    .assistant-btn:hover {
      background: #c2185b;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(194, 24, 91, 0.4);
    }



    /* Chat Interface */
    .chat-container {
      display: flex;
      flex-direction: column;
      height: 100%;
    }

    .chat-messages {
      flex: 1;
      overflow-y: auto;
      padding: 20px 20px 0 20px;
      margin-bottom: 0;
      max-height: none;
      -webkit-overflow-scrolling: touch; /* Scroll suave no iOS */
      overscroll-behavior: contain; /* Prevenir scroll da p√°gina */
    }

    .chat-controls {
      padding: 20px;
      background: rgba(0, 0, 0, 0.2);
      border-top: 1px solid rgba(70, 41, 117, 0.2);
    }

    .message {
      margin-bottom: 12px;
      padding: 10px 12px;
      border-radius: 12px;
      font-size: 0.85rem;
      line-height: 1.3;
      word-wrap: break-word;
      backdrop-filter: blur(2px);
    }

    .message.user {
      background: rgba(194, 24, 91, 0.2);
      border: 1px solid rgba(194, 24, 91, 0.3);
      margin-left: 20px;
      text-align: right;
      box-shadow: 0 0 8px rgba(194, 24, 91, 0.2);
    }

    .message.assistant {
      background: rgba(70, 41, 117, 0.2);
      border: 1px solid rgba(70, 41, 117, 0.3);
      margin-right: 20px;
      box-shadow: 0 0 8px rgba(70, 41, 117, 0.2);
    }

    .chat-input-container {
      display: flex;
      gap: 8px;
      align-items: center;
    }

    .chat-input {
      flex: 1;
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(70, 41, 117, 0.3);
      border-radius: 20px;
      padding: 8px 15px;
      color: white;
      font-size: 0.85rem;
      outline: none;
      transition: border-color 0.3s ease;
      backdrop-filter: blur(2px);
    }

    .chat-input:focus {
      border-color: #c2185b;
    }

    .chat-input::placeholder {
      color: rgba(255, 255, 255, 0.6);
    }

    .send-btn {
      background: #462975;
      color: white;
      border: none;
      border-radius: 50%;
      width: 32px;
      height: 32px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
      transition: all 0.3s ease;
      -webkit-tap-highlight-color: transparent;
      touch-action: manipulation;
    }

    .send-btn:hover {
      background: #c2185b;
      transform: scale(1.1);
    }

    .send-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      transform: none;
    }

    .quick-actions {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-bottom: 10px;
    }

    .quick-action-btn {
      background: rgba(70, 41, 117, 0.2);
      border: 1px solid rgba(70, 41, 117, 0.3);
      color: white;
      padding: 6px 12px;
      border-radius: 15px;
      font-size: 0.75rem;
      cursor: pointer;
      transition: all 0.3s ease;
      backdrop-filter: blur(2px);
      -webkit-tap-highlight-color: transparent;
      touch-action: manipulation;
    }

    .quick-action-btn:hover {
      background: rgba(194, 24, 91, 0.3);
      border-color: rgba(194, 24, 91, 0.4);
      box-shadow: 0 0 8px rgba(194, 24, 91, 0.3);
    }

    /* Bot√µes de Avalia√ß√£o */
    .evaluation-buttons {
      display: flex;
      gap: 10px;
      margin-top: 10px;
    }

    .eval-btn {
      flex: 1;
      padding: 8px 16px;
      border: none;
      border-radius: 20px;
      font-size: 0.85rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      backdrop-filter: blur(2px);
      -webkit-tap-highlight-color: transparent;
      touch-action: manipulation;
    }

    .eval-yes {
      background: rgba(76, 175, 80, 0.3);
      border: 1px solid rgba(76, 175, 80, 0.4);
      color: #4CAF50;
    }

    .eval-yes:hover {
      background: rgba(76, 175, 80, 0.4);
      border-color: rgba(76, 175, 80, 0.5);
      box-shadow: 0 0 8px rgba(76, 175, 80, 0.3);
      transform: translateY(-2px);
    }

    .eval-no {
      background: rgba(244, 67, 54, 0.3);
      border: 1px solid rgba(244, 67, 54, 0.4);
      color: #F44336;
    }

    .eval-no:hover {
      background: rgba(244, 67, 54, 0.4);
      border-color: rgba(244, 67, 54, 0.5);
      box-shadow: 0 0 8px rgba(244, 67, 54, 0.3);
      transform: translateY(-2px);
    }

    .typing-indicator {
      display: none;
      padding: 10px 12px;
      background: rgba(70, 41, 117, 0.2);
      border: 1px solid rgba(70, 41, 117, 0.3);
      border-radius: 12px;
      margin-right: 20px;
      margin-bottom: 12px;
      backdrop-filter: blur(2px);
      box-shadow: 0 0 8px rgba(70, 41, 117, 0.2);
      align-self: flex-start;
    }

    .typing-indicator.show {
      display: block;
    }

    .typing-dots {
      display: flex;
      gap: 4px;
      align-items: center;
    }

    .typing-dot {
      width: 6px;
      height: 6px;
      background: white;
      border-radius: 50%;
      animation: typing 1.4s infinite ease-in-out;
    }

    .typing-dot:nth-child(1) { animation-delay: -0.32s; }
    .typing-dot:nth-child(2) { animation-delay: -0.16s; }

    @keyframes typing {
      0%, 80%, 100% { transform: scale(0.8); opacity: 0.5; }
      40% { transform: scale(1); opacity: 1; }
    }

    /* Responsividade */
    @media (max-width: 600px) {
      body {
        padding: 10px;
        font-size: 14px;
      }

      .container {
        padding: 20px 15px;
        max-width: 100%;
        box-shadow: none;
        backdrop-filter: none;
        background: rgba(0, 0, 0, 0.7);
        border-radius: 8px;
      }

      h1 {
        font-size: 1.5rem;
        margin-bottom: 8px;
      }

      p {
        font-size: 0.9rem;
        margin-bottom: 15px;
      }

      .links a {
        font-size: 0.9rem;
        padding: 12px 15px;
        margin: 8px 0;
        border-radius: 6px;
      }

      .profile-pic {
        width: 90px;
        height: 90px;
        margin-bottom: 15px;
        border-width: 2px;
      }

      /* Otimiza√ß√µes da IA para Mobile */
      .assistant-container {
        bottom: 10px;
        right: 10px;
      }

      .assistant-toggle {
        width: 50px;
        height: 50px;
        font-size: 18px;
        box-shadow: 0 2px 10px rgba(70, 41, 117, 0.5);
      }

      .assistant-title {
        right: 65px;
        bottom: 12px;
        font-size: 0.85rem;
        opacity: 0.8;
      }

      .assistant-box {
        width: calc(100vw - 20px);
        max-width: 320px;
        right: 0;
        bottom: 60px;
        max-height: 70vh;
        border-radius: 12px;
      }

      .assistant-header {
        padding: 12px;
        border-radius: 10px 10px 0 0;
      }

      .assistant-header h3 {
        font-size: 0.9rem;
      }

      .assistant-content {
        height: calc(70vh - 60px);
        max-height: 350px;
      }

      .chat-messages {
        padding: 15px 15px 0 15px;
        max-height: calc(70vh - 140px);
      }

      .chat-controls {
        padding: 15px;
      }

      .message {
        font-size: 0.8rem;
        padding: 8px 10px;
        margin-bottom: 8px;
        border-radius: 10px;
      }

      .message.user {
        margin-left: 15px;
      }

      .message.assistant {
        margin-right: 15px;
      }

      .quick-actions {
        gap: 4px;
        margin-bottom: 8px;
      }

      .quick-action-btn {
        padding: 5px 10px;
        font-size: 0.7rem;
        border-radius: 12px;
      }

      .chat-input-container {
        gap: 6px;
      }

      .chat-input {
        padding: 6px 12px;
        font-size: 0.8rem;
        border-radius: 18px;
      }

      .send-btn {
        width: 28px;
        height: 28px;
        font-size: 12px;
      }

      .evaluation-buttons {
        gap: 8px;
        margin-top: 8px;
      }

      .eval-btn {
        padding: 6px 12px;
        font-size: 0.75rem;
        border-radius: 15px;
      }

      .typing-indicator {
        padding: 8px 10px;
        margin-right: 15px;
        margin-bottom: 8px;
        border-radius: 10px;
      }

      .typing-dot {
        width: 5px;
        height: 5px;
      }
    }

    @media (max-width: 480px) {
      .assistant-box {
        width: calc(100vw - 10px);
        right: 5px;
        bottom: 55px;
      }

      .assistant-toggle {
        width: 45px;
        height: 45px;
        font-size: 16px;
      }

      .assistant-title {
        right: 60px;
        font-size: 0.8rem;
      }

      .chat-messages {
        padding: 12px 12px 0 12px;
      }

      .chat-controls {
        padding: 12px;
      }

      .message {
        font-size: 0.75rem;
        padding: 6px 8px;
      }

      .quick-action-btn {
        padding: 4px 8px;
        font-size: 0.65rem;
      }
    }

    @media (max-width: 360px) {
      body {
        padding: 8px;
      }

      .container {
        padding: 15px 12px;
      }

      h1 {
        font-size: 1.3rem;
      }

      p {
        font-size: 0.85rem;
      }

      .links a {
        font-size: 0.85rem;
        padding: 10px 12px;
      }

      .profile-pic {
        width: 80px;
        height: 80px;
      }

      .assistant-box {
        width: calc(100vw - 8px);
        right: 4px;
        max-height: 65vh;
      }

      .assistant-content {
        height: calc(65vh - 50px);
        max-height: 300px;
      }

      .chat-messages {
        max-height: calc(65vh - 120px);
      }

      .assistant-toggle {
        width: 40px;
        height: 40px;
        font-size: 14px;
      }

      .assistant-title {
        right: 55px;
        font-size: 0.75rem;
      }
    }

    /* Otimiza√ß√µes espec√≠ficas para telas muito pequenas */
    @media (max-width: 320px) {
      .assistant-box {
        width: calc(100vw - 4px);
        right: 2px;
      }

      .chat-messages {
        padding: 10px 10px 0 10px;
      }

      .chat-controls {
        padding: 10px;
      }

      .message {
        font-size: 0.7rem;
        padding: 5px 7px;
      }

      .quick-action-btn {
        padding: 3px 6px;
        font-size: 0.6rem;
      }
    }

    /* Otimiza√ß√µes para orienta√ß√£o landscape em mobile */
    @media (max-width: 900px) and (orientation: landscape) {
      .assistant-box {
        max-height: 60vh;
        bottom: 50px;
      }

      .assistant-content {
        height: calc(60vh - 50px);
        max-height: 250px;
      }

      .chat-messages {
        max-height: calc(60vh - 110px);
      }
    }
  </style>
</head>

<body>
  <!-- V√≠deo de fundo com poster para carregamento instant√¢neo -->
  <video
    autoplay
    muted
    loop
    playsinline
    preload="auto"
    id="bg-video"
    poster="Wallpaper-poster.jpg"
    aria-label="V√≠deo de fundo animado"
    aria-hidden="true"
  >
    <source src="Wallpaper.mp4" type="video/mp4" />
    Seu navegador n√£o suporta v√≠deo em background.
  </video>

  <!-- Conte√∫do principal -->
  <main class="container" role="main" tabindex="-1">
    <img
      src="Logo.png"
      alt="Logo da Byte Sync Informatic"
      class="profile-pic"
      width="120"
      height="120"
      loading="lazy"
    />
    <h1>Byte Sync Informatic</h1>
    <p>Meus links de contato</p>

    <nav class="links" role="navigation" aria-label="Links de contato">
      <a href="https://instagram.com/bytesyncinformatic" target="_blank" rel="noopener noreferrer" tabindex="0">Instagram</a>
      <a href="https://wa.me/5511930522075" target="_blank" rel="noopener noreferrer" tabindex="0">WhatsApp</a>
      <a href="https://tiktok.com/@bytesyncinformatic" target="_blank" rel="noopener noreferrer" tabindex="0">TikTok</a>
      <a href="https://github.com/luanoliveiralab" target="_blank" rel="noopener noreferrer" tabindex="0">GitHub</a>
    </nav>

    <p id="copyright" aria-label="Copyright"></p>
  </main>

  <!-- Assistente Virtual -->
  <div class="assistant-container">
    <h2 class="assistant-title">Luna - IA</h2>
    <button class="assistant-toggle" id="assistantToggle" aria-label="Abrir Luna - assistente virtual">
      <span>üåô</span>
    </button>
    
    <div class="assistant-box" id="assistantBox">
      <div class="assistant-header">
        <h3>Luna - Feita com IA.</h3>
      </div>
      
      <div class="assistant-content">
        <div class="chat-messages" id="chatMessages">
          <div class="message assistant initial-message">
            Ol√°! Sou a Luna, assistente virtual da Byte Sync Informatic üåô<br>
            Posso auxili√°-lo com informa√ß√µes sobre nossos servi√ßos, produtos e esclarecer suas d√∫vidas t√©cnicas. Como posso ajud√°-lo hoje?
          </div>
          
          <div class="typing-indicator" id="typingIndicator">
            <div class="typing-dots">
              <div class="typing-dot"></div>
              <div class="typing-dot"></div>
              <div class="typing-dot"></div>
            </div>
          </div>
        </div>
        
        <div class="chat-controls">
          <div class="quick-actions">
            <button class="quick-action-btn" onclick="sendQuickMessage('Quais servi√ßos voc√™s oferecem?')">Servi√ßos</button>
            <button class="quick-action-btn" onclick="sendQuickMessage('Tabela de pre√ßos')">Pre√ßos</button>
            <button class="quick-action-btn" onclick="sendQuickMessage('Formas de pagamento')">Pagamento</button>
            <button class="quick-action-btn" onclick="sendQuickMessage('Como entrar em contato?')">Contato</button>
          </div>
          
          <div class="chat-input-container">
            <input 
              type="text" 
              class="chat-input" 
              id="chatInput" 
              placeholder="Digite sua pergunta..."
              maxlength="200"
            >
            <button class="send-btn" id="sendBtn">‚û§</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    const video = document.getElementById('bg-video');

    function showVideo() {
      video.style.opacity = '1';
      video.removeEventListener('canplaythrough', showVideo);
      video.removeEventListener('loadeddata', showVideo);
    }

    video.addEventListener('canplaythrough', showVideo);
    video.addEventListener('loadeddata', showVideo);

    // Fallback para for√ßar mostrar o v√≠deo ap√≥s 5 segundos
    setTimeout(() => {
      if (video.style.opacity !== '1') {
        video.style.opacity = '1';
      }
    }, 5000);

    // Atualiza o copyright com o ano atual
    document.getElementById('copyright').textContent =
      `¬© ${new Date().getFullYear()} Byte Sync Informatic. Todos os direitos reservados.`;

    // Remove o foco dos links ao toque no celular e clique no desktop
    document.querySelectorAll('.links a').forEach(link => {
      ['mousedown', 'touchstart'].forEach(eventType => {
        link.addEventListener(eventType, () => {
          link.blur();
        });
      });
    });

    // Funcionalidade da Assistente Virtual
    const assistantToggle = document.getElementById('assistantToggle');
    const assistantBox = document.getElementById('assistantBox');
    let isAssistantOpen = false;

    // Fun√ß√£o para alternar a assistente
    function toggleAssistant() {
      isAssistantOpen = !isAssistantOpen;
      
      if (isAssistantOpen) {
        assistantBox.classList.add('active');
        assistantToggle.setAttribute('aria-label', 'Fechar Luna - assistente virtual');
        assistantToggle.querySelector('span').textContent = '‚úï';
      } else {
        assistantBox.classList.remove('active');
        assistantToggle.setAttribute('aria-label', 'Abrir Luna - assistente virtual');
        assistantToggle.querySelector('span').textContent = 'üåô';
      }
    }

    // Event listeners para a assistente
    assistantToggle.addEventListener('click', toggleAssistant);

    // Fechar assistente ao clicar fora dela
    document.addEventListener('click', (e) => {
      if (isAssistantOpen && 
          !assistantToggle.contains(e.target) && 
          !assistantBox.contains(e.target) &&
          !e.target.classList.contains('eval-btn')) {
        toggleAssistant();
      }
    });

    // Fechar assistente com tecla ESC
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && isAssistantOpen) {
        toggleAssistant();
      }
    });

    // Detectar se √© dispositivo m√≥vel
    const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);

    // Prevenir zoom em dispositivos m√≥veis
    if (isMobile) {
      document.addEventListener('gesturestart', (e) => {
        e.preventDefault();
      });
      
      document.addEventListener('gesturechange', (e) => {
        e.preventDefault();
      });
      
      document.addEventListener('gestureend', (e) => {
        e.preventDefault();
      });
    }

    // Anima√ß√£o de entrada da assistente ap√≥s carregamento da p√°gina
    setTimeout(() => {
      assistantToggle.style.animation = 'pulse 2s infinite';
    }, 2000);

    // Adicionar anima√ß√£o de pulse
    const style = document.createElement('style');
    style.textContent = `
      @keyframes pulse {
        0% { transform: scale(1); }
        50% { transform: scale(1.05); }
        100% { transform: scale(1); }
      }
    `;
    document.head.appendChild(style);

    // Sistema de IA Conversacional
    const chatMessages = document.getElementById('chatMessages');
    const chatInput = document.getElementById('chatInput');
    const sendBtn = document.getElementById('sendBtn');
    const typingIndicator = document.getElementById('typingIndicator');

    // Sistema de aprendizado e hist√≥rico de pesquisas
    let userSearchHistory = [];
    let categoryWeights = {};
    let searchCount = 0;

    // Base de conhecimento da IA
    const knowledgeBase = {
      servicos: {
        keywords: ['servi√ßos', 'servi√ßo', 'oferecem', 'fazem', 'trabalham', 'desenvolvem', 'montagem', 'formata√ß√£o', 'reparo', 'limpeza'],
        response: `üñ•Ô∏è **Nossos Servi√ßos**

**üíª Montagem de Computadores**
‚Ä¢ Desktop personalizado (gaming/profissional)
‚Ä¢ Notebooks otimizados
‚Ä¢ Garantia de qualidade

**üîß Formata√ß√£o e Sistemas**
‚Ä¢ Windows e Linux
‚Ä¢ Drivers atualizados
‚Ä¢ Backup de dados

**üõ†Ô∏è Reparo e Manuten√ß√£o**
‚Ä¢ Diagn√≥stico preciso
‚Ä¢ Reparo especializado
‚Ä¢ Manuten√ß√£o preventiva

**üßπ Limpeza Profissional**
‚Ä¢ Limpeza completa
‚Ä¢ Troca de pasta t√©rmica
‚Ä¢ Manuten√ß√£o de ventiladores

**üåê Desenvolvimento Web**
‚Ä¢ Sites responsivos
‚Ä¢ Front-end moderno
‚Ä¢ Otimiza√ß√£o de performance`
      },
      contato: {
        keywords: ['contato', 'contatar', 'falar', 'whatsapp', 'telefone', 'email', 'localiza√ß√£o', 'onde', 'endere√ßo'],
        response: `üìû **Contato**

**üì± WhatsApp**: (11) 93052-2075
**üì∏ Instagram**: @bytesyncinformatic
**üéµ TikTok**: @bytesyncinformatic
**üíª GitHub**: github.com/luanoliveiralab

**üí° Recomenda√ß√£o**: WhatsApp para atendimento mais r√°pido!`
      },
      tecnologias: {
        keywords: ['tecnologias', 'tecnologia', 'linguagens', 'frameworks', 'ferramentas', 'stack', 'frontend', 'desenvolvimento'],
        response: `Nossas tecnologias de desenvolvimento e hardware:

üåê **Desenvolvimento Front-end**
‚Ä¢ HTML5, CSS3, JavaScript
‚Ä¢ React, Vue.js
‚Ä¢ Bootstrap, Tailwind CSS
‚Ä¢ Sites responsivos e modernos

üíª **Sistemas Operacionais**
‚Ä¢ Windows 10/11
‚Ä¢ Linux (Ubuntu, Mint)
‚Ä¢ Instala√ß√£o e configura√ß√£o
‚Ä¢ Otimiza√ß√£o de performance

üñ•Ô∏è **Hardware Suportado**
‚Ä¢ Processadores Intel e AMD
‚Ä¢ Placas de v√≠deo NVIDIA e AMD
‚Ä¢ Mem√≥rias DDR3, DDR4, DDR5
‚Ä¢ HDs, SSDs, NVMe

üõ†Ô∏è **Ferramentas de Trabalho**
‚Ä¢ VS Code, IntelliJ
‚Ä¢ Figma, Adobe XD
‚Ä¢ Ferramentas de diagn√≥stico
‚Ä¢ Software de limpeza e manuten√ß√£o`
      },
      precos: {
        keywords: ['pre√ßos', 'pre√ßo', 'valor', 'custo', 'or√ßamento', 'quanto custa', 'tarifa', 'tabela'],
        response: `üí∞ **Tabela de Pre√ßos**

**üíª Manuten√ß√£o**
‚Ä¢ Formata√ß√£o: R$ 80,00
‚Ä¢ Limpeza: R$ 60,00
‚Ä¢ Diagn√≥stico: R$ 40,00
‚Ä¢ Reparo: R$ 100,00

**üñ•Ô∏è Montagem**
‚Ä¢ B√°sico: R$ 1.500,00
‚Ä¢ Gamer: R$ 3.000,00
‚Ä¢ Profissional: R$ 2.500,00

**üõí Hardware**
‚Ä¢ Processadores: R$ 300-2.000
‚Ä¢ RAM: R$ 150-800
‚Ä¢ HD/SSD: R$ 200-1.000
‚Ä¢ Perif√©ricos: R$ 50-500

**üí° Or√ßamento personalizado via WhatsApp!**`
      },
      sobre: {
        keywords: ['sobre', 'empresa', 'quem s√£o', 'hist√≥ria', 'miss√£o', 'vis√£o', 'especialidade'],
        response: `Informa√ß√µes sobre a Byte Sync Informatic:

üéØ **Nossa Miss√£o**
Oferecer solu√ß√µes completas e profissionais em manuten√ß√£o, montagem e comercializa√ß√£o de computadores, garantindo qualidade e confian√ßa em todos os servi√ßos prestados.

üí° **Nossa Vis√£o**
Ser reconhecida como refer√™ncia em servi√ßos de TI, montagem de computadores e comercializa√ß√£o de hardware em nossa regi√£o.

üöÄ **Nossos Valores**
‚Ä¢ Qualidade e excel√™ncia em primeiro lugar
‚Ä¢ Atendimento personalizado e dedicado
‚Ä¢ Transpar√™ncia total em todos os processos
‚Ä¢ Garantia de qualidade em todos os servi√ßos

üìà **Nossas Especialidades**
‚Ä¢ Montagem personalizada de computadores
‚Ä¢ Formata√ß√£o e instala√ß√£o de sistemas operacionais
‚Ä¢ Limpeza e manuten√ß√£o preventiva
‚Ä¢ Reparo e diagn√≥stico t√©cnico de problemas
‚Ä¢ Comercializa√ß√£o de hardware e perif√©ricos
‚Ä¢ Desenvolvimento web front-end`
      },
      portfolio: {
        keywords: ['portf√≥lio', 'projetos', 'trabalhos', 'cases', 'exemplos', 'github', 'computadores montados'],
        response: `Nossos trabalhos e projetos realizados:

üíª **GitHub**: github.com/luanoliveiralab
üñ•Ô∏è **Computadores Montados**: Sistemas gamers e profissionais
üåê **Sites Desenvolvidos**: Sites responsivos e modernos
üîß **Manuten√ß√µes Realizadas**: Limpezas e reparos especializados
üõí **Hardware Comercializado**: Processadores, mem√≥rias, perif√©ricos

**Tecnologias Utilizadas:**
‚Ä¢ HTML5, CSS3, JavaScript
‚Ä¢ React, Vue.js
‚Ä¢ Windows, Linux
‚Ä¢ Hardware Intel, AMD, NVIDIA`
      },
      prazo: {
        keywords: ['prazo', 'tempo', 'dura√ß√£o', 'quando fica pronto', 'entrega', 'deadline', 'montagem', 'formata√ß√£o'],
        response: `Nossos prazos de entrega e execu√ß√£o:

‚ö° **Servi√ßos R√°pidos**
‚Ä¢ **Formata√ß√£o**: 2 a 4 horas
‚Ä¢ **Limpeza**: 1 a 2 horas
‚Ä¢ **Diagn√≥stico**: 30 minutos a 1 hora
‚Ä¢ **Reparo simples**: 1 a 3 horas

üñ•Ô∏è **Montagem de Computadores**
‚Ä¢ **Computador B√°sico**: 1 a 2 dias √∫teis
‚Ä¢ **Computador Gamer**: 2 a 3 dias √∫teis
‚Ä¢ **Computador Profissional**: 2 a 4 dias √∫teis
‚Ä¢ **Montagem + Formata√ß√£o**: Servi√ßo incluso no prazo

üõí **Comercializa√ß√£o de Hardware**
‚Ä¢ **Produtos em estoque**: Entrega imediata
‚Ä¢ **Produtos sob encomenda**: 3 a 7 dias √∫teis
‚Ä¢ **Entrega**: 1 a 2 dias √∫teis

üåê **Desenvolvimento Web**
‚Ä¢ **Sites Simples**: 1 a 2 semanas
‚Ä¢ **Sites Complexos**: 2 a 4 semanas

**Fatores que influenciam o prazo:**
‚Ä¢ Complexidade do servi√ßo solicitado
‚Ä¢ Disponibilidade de pe√ßas e componentes
‚Ä¢ Agendamento de hor√°rio dispon√≠vel
‚Ä¢ Testes de qualidade e funcionamento`
      },
      
      // NOVAS CATEGORIAS T√âCNICAS
      pagamento: {
        keywords: ['pagamento', 'pix', 'cart√£o', 'boleto', 'dinheiro', 'parcelado', 'cr√©dito', 'd√©bito', 'forma de pagamento'],
        response: `üí≥ **Formas de Pagamento Aceitas**

**M√©todos Dispon√≠veis:**

üì± **PIX**
‚Ä¢ Pagamento instant√¢neo
‚Ä¢ M√©todo preferencial
‚Ä¢ Transfer√™ncia imediata

üí≥ **Cart√£o de D√©bito**
‚Ä¢ Pagamento √† vista
‚Ä¢ Desconto autom√°tico da conta
‚Ä¢ Aceito em todos os servi√ßos

üí≥ **Cart√£o de Cr√©dito**
‚Ä¢ Parcelado em at√© 12x
‚Ä¢ Consulte condi√ß√µes espec√≠ficas
‚Ä¢ Flexibilidade de pagamento

üè¶ **Boleto Banc√°rio**
‚Ä¢ Vencimento em at√© 3 dias √∫teis
‚Ä¢ Pagamento em qualquer banco
‚Ä¢ Comprovante de pagamento

üí∞ **Dinheiro**
‚Ä¢ Pagamento √† vista
‚Ä¢ Aceito para todos os servi√ßos
‚Ä¢ Desconto para pagamento em dinheiro

**Informa√ß√µes Importantes:**
‚Ä¢ Todos os m√©todos s√£o seguros e confi√°veis
‚Ä¢ Or√ßamento gratuito antes do pagamento
‚Ä¢ Comprovante de pagamento fornecido`
      },
      
      limpeza: {
        keywords: ['limpeza', 'limpar', 'manuten√ß√£o', 'preventiva', 'poeira', 'aquecimento', 'superaquecimento', 'ventilador'],
        response: `üßπ **Import√¢ncia da Limpeza de Computadores**

**Por que √© fundamental:**
‚Ä¢ **Previne superaquecimento** - Poeira bloqueia ventiladores e dissipadores
‚Ä¢ **Aumenta a vida √∫til** - Componentes duram mais quando bem ventilados
‚Ä¢ **Melhora performance** - Temperatura ideal = melhor funcionamento
‚Ä¢ **Evita danos** - Superaquecimento pode queimar componentes

**Componentes que precisam de limpeza:**
‚Ä¢ Ventiladores (CPU, GPU, gabinete)
‚Ä¢ Dissipadores de calor
‚Ä¢ Filtros de poeira
‚Ä¢ Placa-m√£e e componentes
‚Ä¢ Fonte de alimenta√ß√£o

**Frequ√™ncia recomendada:**
‚Ä¢ **Uso dom√©stico**: A cada 6 meses
‚Ä¢ **Uso intensivo**: A cada 3 meses
‚Ä¢ **Ambiente com poeira**: A cada 2 meses

**Sinais de que precisa limpeza:**
‚Ä¢ Computador muito quente
‚Ä¢ Ventiladores fazendo muito barulho
‚Ä¢ Travamentos frequentes
‚Ä¢ Desligamentos inesperados`
      },
      
      memoria: {
        keywords: ['mem√≥ria', 'ram', 'ddr', 'gb', 'giga', 'mem√≥ria ram', 'capacidade', 'velocidade'],
        response: `üß† **Mem√≥ria RAM - Informa√ß√µes T√©cnicas**

**O que √© a RAM:**
A RAM (Random Access Memory) √© a mem√≥ria de trabalho do computador, onde os programas e dados ficam armazenados temporariamente durante o uso.

**Para que serve:**
‚Ä¢ **Armazenamento tempor√°rio** - Dados que est√£o sendo processados
‚Ä¢ **Velocidade de acesso** - Muito mais r√°pida que o HD/SSD
‚Ä¢ **Multitarefa** - Permite rodar v√°rios programas simultaneamente
‚Ä¢ **Cache do sistema** - Acelera opera√ß√µes frequentes

**Tipos de RAM:**
‚Ä¢ **DDR3** - Mais antiga, ainda funcional
‚Ä¢ **DDR4** - Padr√£o atual, boa performance
‚Ä¢ **DDR5** - Mais nova, m√°xima velocidade

**Capacidades recomendadas:**
‚Ä¢ **4GB** - Uso b√°sico (navega√ß√£o, documentos)
‚Ä¢ **8GB** - Uso intermedi√°rio (m√∫ltiplas abas, programas)
‚Ä¢ **16GB** - Uso avan√ßado (jogos, edi√ß√£o, desenvolvimento)
‚Ä¢ **32GB+** - Uso profissional (renderiza√ß√£o, m√°quinas virtuais)

**Como verificar sua RAM:**
Windows: Ctrl + Shift + Esc ‚Üí Performance ‚Üí Mem√≥ria
Mac: Apple Menu ‚Üí Sobre este Mac`
      },
      
      processador: {
        keywords: ['processador', 'cpu', 'intel', 'amd', 'ryzen', 'core', 'n√∫cleos', 'ghz'],
        response: `üñ•Ô∏è **Processador (CPU) - Informa√ß√µes T√©cnicas**

**O que √© o processador:**
O processador (CPU - Central Processing Unit) √© o c√©rebro do computador, respons√°vel por processar todas as informa√ß√µes e executar programas.

**Para que serve:**
‚Ä¢ **Processamento de dados** - Executa c√°lculos e opera√ß√µes
‚Ä¢ **Controle do sistema** - Gerencia todos os componentes
‚Ä¢ **Execu√ß√£o de programas** - Roda aplicativos e jogos
‚Ä¢ **Multitarefa** - Permite usar v√°rios programas simultaneamente

**Principais fabricantes:**
‚Ä¢ **Intel**: Core i3, i5, i7, i9 (b√°sico ao avan√ßado)
‚Ä¢ **AMD**: Ryzen 3, 5, 7, 9 (equivalente Intel)

**Caracter√≠sticas importantes:**
‚Ä¢ **N√∫cleos**: Mais n√∫cleos = melhor multitarefa
‚Ä¢ **Frequ√™ncia**: GHz mais alto = mais velocidade
‚Ä¢ **Cache**: Mem√≥ria interna para dados frequentes
‚Ä¢ **Socket**: Tipo de conex√£o com a placa-m√£e

**Como verificar seu processador:**
Windows: Ctrl + Shift + Esc ‚Üí Performance ‚Üí CPU
Mac: Apple Menu ‚Üí Sobre este Mac`
      },
      
      placa_video: {
        keywords: ['placa de v√≠deo', 'gpu', 'nvidia', 'amd', 'gtx', 'rtx', 'rx', 'gr√°ficos'],
        response: `üéÆ **Placa de V√≠deo (GPU) - Informa√ß√µes T√©cnicas**

**O que √© a placa de v√≠deo:**
A placa de v√≠deo (GPU - Graphics Processing Unit) √© respons√°vel por processar e exibir imagens na tela do computador.

**Para que serve:**
‚Ä¢ **Processamento gr√°fico** - Renderiza imagens e v√≠deos
‚Ä¢ **Jogos** - Essencial para jogos modernos
‚Ä¢ **Edi√ß√£o de v√≠deo** - Acelera renderiza√ß√£o
‚Ä¢ **Design gr√°fico** - Melhora performance em softwares de design

**Tipos de placa de v√≠deo:**
‚Ä¢ **Integrada**: Vem junto com o processador (b√°sica)
‚Ä¢ **Dedicada**: Placa separada (mais potente)

**Principais fabricantes:**
‚Ä¢ **NVIDIA**: GTX (gaming), RTX (gaming avan√ßado), Quadro (profissional)
‚Ä¢ **AMD**: RX (gaming), Radeon Pro (profissional)

**Caracter√≠sticas importantes:**
‚Ä¢ **Mem√≥ria VRAM**: Mais mem√≥ria = melhor performance
‚Ä¢ **Clock**: Velocidade de processamento
‚Ä¢ **Resfriamento**: Ventilador ou l√≠quido
‚Ä¢ **Consumo**: Pot√™ncia el√©trica necess√°ria

**Como verificar sua placa de v√≠deo:**
Windows: Ctrl + Shift + Esc ‚Üí Performance ‚Üí GPU
Mac: Apple Menu ‚Üí Sobre este Mac`
      },
      
      armazenamento: {
        keywords: ['armazenamento', 'hd', 'ssd', 'disco', 'nvme', 'm.2', 'giga', 'terabyte'],
        response: `üíæ **Armazenamento - Informa√ß√µes T√©cnicas**

**O que √© o armazenamento:**
O armazenamento √© onde ficam guardados todos os arquivos, programas e sistema operacional do computador.

**Para que serve:**
‚Ä¢ **Armazenar arquivos** - Documentos, fotos, v√≠deos
‚Ä¢ **Instalar programas** - Aplicativos e jogos
‚Ä¢ **Sistema operacional** - Windows, Linux, macOS
‚Ä¢ **Backup de dados** - C√≥pias de seguran√ßa

**Tipos de armazenamento:**
‚Ä¢ **HD (HDD)**: Disco r√≠gido tradicional
  - Mais barato e maior capacidade
  - Mais lento e mec√¢nico
  
‚Ä¢ **SSD**: Disco de estado s√≥lido
  - Mais r√°pido e silencioso
  - Mais caro e menor capacidade
  
‚Ä¢ **NVMe**: SSD de alta velocidade
  - M√°xima velocidade de transfer√™ncia
  - Formato M.2

**Capacidades comuns:**
‚Ä¢ **256GB**: Sistema operacional e programas b√°sicos
‚Ä¢ **512GB**: Uso intermedi√°rio
‚Ä¢ **1TB**: Uso avan√ßado
‚Ä¢ **2TB+**: Uso profissional

**Como verificar seu armazenamento:**
Windows: Este PC ‚Üí Propriedades
Mac: Apple Menu ‚Üí Sobre este Mac`
      },
      
      fonte: {
        keywords: ['fonte', 'alimenta√ß√£o', 'energia', 'watts', 'w', 'certifica√ß√£o', '80 plus'],
        response: `üîå **Fonte de Alimenta√ß√£o - Informa√ß√µes T√©cnicas**

**O que √© a fonte de alimenta√ß√£o:**
A fonte de alimenta√ß√£o √© respons√°vel por fornecer energia el√©trica para todos os componentes do computador.

**Para que serve:**
‚Ä¢ **Fornecer energia** - Alimenta todos os componentes
‚Ä¢ **Converter tens√£o** - Transforma 110V/220V em tens√µes adequadas
‚Ä¢ **Proteger componentes** - Evita danos por varia√ß√µes el√©tricas
‚Ä¢ **Estabilizar corrente** - Mant√©m energia constante

**Pot√™ncia necess√°ria:**
‚Ä¢ **300-400W**: Computador b√°sico
‚Ä¢ **500-600W**: Computador intermedi√°rio
‚Ä¢ **700-850W**: Computador gamer
‚Ä¢ **1000W+**: Computador profissional

**Certifica√ß√µes de efici√™ncia:**
‚Ä¢ **80 Plus Bronze**: Efici√™ncia b√°sica
‚Ä¢ **80 Plus Silver**: Efici√™ncia intermedi√°ria
‚Ä¢ **80 Plus Gold**: Efici√™ncia alta
‚Ä¢ **80 Plus Platinum**: Efici√™ncia m√°xima

**Tipos de fonte:**
‚Ä¢ **N√£o modular**: Cabos fixos
‚Ä¢ **Semi-modular**: Alguns cabos remov√≠veis
‚Ä¢ **Modular**: Todos os cabos remov√≠veis

**Como verificar sua fonte:**
Abrir o gabinete e verificar a etiqueta da fonte`
      },
      
      hardware: {
        keywords: ['hardware', 'componentes', 'pe√ßas', 'partes do computador'],
        response: `‚öôÔ∏è **Componentes de Hardware - Vis√£o Geral**

**Principais componentes de um computador:**

**üñ•Ô∏è Processador (CPU)**
O c√©rebro do computador, respons√°vel por processar todas as informa√ß√µes e executar programas.

**üß† Mem√≥ria RAM**
Mem√≥ria de trabalho tempor√°ria onde os programas ficam armazenados durante o uso.

**üéÆ Placa de V√≠deo (GPU)**
Respons√°vel por processar e exibir imagens na tela, essencial para jogos e edi√ß√£o.

**üíæ Armazenamento (HD/SSD)**
Onde ficam armazenados todos os arquivos, programas e sistema operacional.

**üîå Fonte de Alimenta√ß√£o**
Fornece energia el√©trica para todos os componentes do computador.

**üì¶ Gabinete**
Caixa que protege e organiza todos os componentes internos.

**üñ•Ô∏è Placa-m√£e**
Conecta e permite comunica√ß√£o entre todos os componentes.

Cada componente tem uma fun√ß√£o espec√≠fica e trabalha em conjunto para o funcionamento do computador.`
      },
      
      sistema: {
        keywords: ['sistema', 'windows', 'linux', 'mac', 'operacional', 'vers√£o', 'atualiza√ß√£o', 'compatibilidade'],
        response: `üñ•Ô∏è **Sistemas Operacionais - Compara√ß√£o**

**Windows 10/11**
‚úÖ **Vantagens:**
‚Ä¢ Compatibilidade m√°xima com programas
‚Ä¢ Interface familiar
‚Ä¢ Suporte a jogos
‚Ä¢ Drivers f√°ceis de encontrar

‚ùå **Desvantagens:**
‚Ä¢ Mais vulner√°vel a v√≠rus
‚Ä¢ Pode ser lento em PCs antigos
‚Ä¢ Atualiza√ß√µes autom√°ticas

**Linux (Ubuntu, Mint, etc.)**
‚úÖ **Vantagens:**
‚Ä¢ Gratuito e open-source
‚Ä¢ Muito seguro
‚Ä¢ Leve e r√°pido
‚Ä¢ Ideal para programa√ß√£o

‚ùå **Desvantagens:**
‚Ä¢ Menos jogos compat√≠veis
‚Ä¢ Curva de aprendizado
‚Ä¢ Alguns programas n√£o funcionam

**macOS (apenas Macs)**
‚úÖ **Vantagens:**
‚Ä¢ Interface elegante
‚Ä¢ Muito seguro
‚Ä¢ Integra√ß√£o perfeita com outros produtos Apple
‚Ä¢ √ìtimo para design e edi√ß√£o

‚ùå **Desvantagens:**
‚Ä¢ Limitado a hardware Apple
‚Ä¢ Mais caro
‚Ä¢ Menos jogos

**Recomenda√ß√µes por uso:**
‚Ä¢ **Gaming**: Windows 10/11
‚Ä¢ **Trabalho/Estudo**: Windows ou Linux
‚Ä¢ **Programa√ß√£o**: Linux ou macOS
‚Ä¢ **Design/Edi√ß√£o**: macOS ou Windows
‚Ä¢ **Uso b√°sico**: Qualquer um

**Requisitos m√≠nimos Windows 11:**
‚Ä¢ 4GB RAM
‚Ä¢ 64GB armazenamento
‚Ä¢ Processador 1GHz dual-core
‚Ä¢ TPM 2.0`
      },
      
      upgrade: {
        keywords: ['upgrade', 'melhorar', 'atualizar', 'trocar', 'componente', 'performance', 'lento', 'velocidade'],
        response: `üöÄ **Upgrade de Computador - Melhorias de Performance**

**Prioridades para upgrade (ordem de impacto):**

1. **üíæ SSD (Maior impacto)**
   ‚Ä¢ Trocar HD por SSD = 5x mais r√°pido
   ‚Ä¢ Sistema inicializa em segundos
   ‚Ä¢ Programas abrem instantaneamente
   ‚Ä¢ Custo-benef√≠cio excelente

2. **üß† RAM**
   ‚Ä¢ 4GB ‚Üí 8GB = Melhora multitarefa
   ‚Ä¢ 8GB ‚Üí 16GB = Ideal para jogos/edi√ß√£o
   ‚Ä¢ Verificar compatibilidade da placa-m√£e

3. **üñ•Ô∏è Processador**
   ‚Ä¢ Upgrade mais complexo
   ‚Ä¢ Pode precisar trocar placa-m√£e
   ‚Ä¢ Verificar socket compat√≠vel

4. **üéÆ Placa de V√≠deo**
   ‚Ä¢ Essencial para jogos
   ‚Ä¢ Verificar pot√™ncia da fonte
   ‚Ä¢ Considerar espa√ßo no gabinete

**Sinais de que precisa upgrade:**
‚Ä¢ Computador muito lento
‚Ä¢ Travamentos frequentes
‚Ä¢ N√£o roda programas novos
‚Ä¢ Barulho excessivo do HD

**Upgrades mais comuns:**
‚Ä¢ **PC antigo**: SSD + RAM
‚Ä¢ **Gaming**: Placa de v√≠deo + RAM
‚Ä¢ **Trabalho**: SSD + RAM + Processador

**Custo aproximado:**
‚Ä¢ SSD 240GB: R$ 150-250
‚Ä¢ RAM 8GB: R$ 200-350
‚Ä¢ Placa de v√≠deo b√°sica: R$ 800-1500`
      },
      
      problemas: {
        keywords: ['problema', 'erro', 'travando', 'lento', 'n√£o liga', 'tela azul', 'v√≠rus', 'malware', 'diagn√≥stico'],
        response: `üîß **Problemas Comuns e Solu√ß√µes**

**üñ•Ô∏è Computador muito lento:**
‚Ä¢ **Causas**: Pouca RAM, HD cheio, v√≠rus, superaquecimento
‚Ä¢ **Solu√ß√µes**: Limpeza, mais RAM, SSD, antiv√≠rus

**üíª N√£o liga:**
‚Ä¢ **Causas**: Fonte queimada, placa-m√£e, bot√£o power
‚Ä¢ **Solu√ß√µes**: Testar fonte, verificar cabos, trocar fonte

**üñ•Ô∏è Tela azul (BSOD):**
‚Ä¢ **Causas**: Drivers, RAM, superaquecimento, v√≠rus
‚Ä¢ **Solu√ß√µes**: Atualizar drivers, testar RAM, limpeza

**ü¶† V√≠rus/Malware:**
‚Ä¢ **Sinais**: Pop-ups, lentid√£o, programas estranhos
‚Ä¢ **Solu√ß√µes**: Antiv√≠rus, Windows Defender, formata√ß√£o

**üî• Superaquecimento:**
‚Ä¢ **Sinais**: Desligamentos, barulho de ventilador
‚Ä¢ **Solu√ß√µes**: Limpeza, pasta t√©rmica, ventiladores

**üì± Tela congelada:**
‚Ä¢ **Causas**: Pouca RAM, programa travado, superaquecimento
‚Ä¢ **Solu√ß√µes**: Ctrl+Alt+Del, reiniciar, mais RAM

**üîä Sem som:**
‚Ä¢ **Causas**: Drivers, cabo, placa de som
‚Ä¢ **Solu√ß√µes**: Atualizar drivers, verificar cabos

**üì∂ Sem internet:**
‚Ä¢ **Causas**: Driver Wi-Fi, roteador, cabo
‚Ä¢ **Solu√ß√µes**: Reiniciar roteador, verificar drivers

**Diagn√≥stico profissional:**
‚Ä¢ An√°lise completa do sistema
‚Ä¢ Identifica√ß√£o precisa do problema
‚Ä¢ Or√ßamento detalhado
‚Ä¢ Garantia do servi√ßo`
      }
    };

    // Fun√ß√£o para calcular relev√¢ncia de uma resposta baseada na pergunta
    function calculateRelevance(userMessage, keywords) {
      const message = userMessage.toLowerCase();
      let score = 0;
      
      // Verificar cada palavra-chave
      for (const keyword of keywords) {
        if (message.includes(keyword.toLowerCase())) {
          score += 1;
        }
      }
      
      // B√¥nus para correspond√™ncias exatas
      for (const keyword of keywords) {
        if (message === keyword.toLowerCase()) {
          score += 2;
        }
      }
      
      // B√¥nus para palavras-chave mais espec√≠ficas
      const specificKeywords = ['ram', 'ssd', 'windows', 'linux', 'upgrade', 'limpeza', 'problema'];
      for (const specific of specificKeywords) {
        if (message.includes(specific)) {
          score += 0.5;
        }
      }
      
      return score;
    }

    // Fun√ß√£o para rastrear pesquisa do usu√°rio
    function trackUserSearch(userMessage) {
      searchCount++;
      userSearchHistory.push({
        message: userMessage.toLowerCase(),
        timestamp: Date.now(),
        searchNumber: searchCount
      });
      
      // Manter apenas as √∫ltimas 20 pesquisas
      if (userSearchHistory.length > 20) {
        userSearchHistory.shift();
      }
      
      // Atualizar pesos das categorias baseado no hist√≥rico
      updateCategoryWeights();
    }

    // Fun√ß√£o para atualizar pesos das categorias baseado no hist√≥rico
    function updateCategoryWeights() {
      // Resetar pesos
      categoryWeights = {};
      
      // Analisar hist√≥rico de pesquisas
      userSearchHistory.forEach((search, index) => {
        const recency = (index + 1) / userSearchHistory.length; // Pesquisas mais recentes t√™m peso maior
        
        // Calcular relev√¢ncia para cada categoria
        for (const [category, data] of Object.entries(knowledgeBase)) {
          const relevance = calculateRelevance(search.message, data.keywords);
          if (relevance > 0) {
            if (!categoryWeights[category]) {
              categoryWeights[category] = 0;
            }
            // Peso baseado na relev√¢ncia e rec√™ncia
            categoryWeights[category] += relevance * recency;
          }
        }
      });
    }

    // Fun√ß√£o para obter categorias mais relevantes baseadas no hist√≥rico
    function getRelevantCategoriesFromHistory() {
      const sortedCategories = Object.entries(categoryWeights)
        .sort((a, b) => b[1] - a[1])
        .slice(0, 4)
        .map(item => item[0]);
      
      return sortedCategories;
    }

    // Fun√ß√£o para encontrar as melhores respostas baseadas na pergunta
    function findBestResponses(userMessage, maxResults = 4) {
      const message = userMessage.toLowerCase();
      const results = [];
      
      // Verificar primeiro se h√° uma resposta espec√≠fica nas respostas extras
      for (const [question, data] of Object.entries(extraResponses)) {
        if (message.includes(question.toLowerCase()) || question.toLowerCase().includes(message)) {
          return [{
            category: 'extra',
            response: data.response,
            relevance: 10 // Alta relev√¢ncia para respostas espec√≠ficas
          }];
        }
      }
      
      // Calcular relev√¢ncia para cada categoria
      for (const [category, data] of Object.entries(knowledgeBase)) {
        const relevance = calculateRelevance(message, data.keywords);
        if (relevance > 0) {
          results.push({
            category: category,
            response: data.response,
            relevance: relevance
          });
        }
      }
      
      // Ordenar por relev√¢ncia (maior primeiro)
      results.sort((a, b) => b.relevance - a.relevance);
      
      // Retornar apenas as top 4 respostas
      const topResults = results.slice(0, maxResults);
      
      // Se n√£o encontrou nenhuma resposta relevante
      if (topResults.length === 0) {
        return [{
          category: 'default',
          response: `ü§î **Interessante pergunta!**

Como Luna, posso ajud√°-lo com:

**üíª Servi√ßos de TI:**
‚Ä¢ Montagem de computadores
‚Ä¢ Formata√ß√£o e sistemas
‚Ä¢ Limpeza e manuten√ß√£o
‚Ä¢ Reparo e diagn√≥stico

**üõí Hardware:**
‚Ä¢ Processadores, RAM, HD/SSD
‚Ä¢ Placas de v√≠deo, fontes
‚Ä¢ Perif√©ricos e componentes

**üåê Desenvolvimento Web:**
‚Ä¢ Sites responsivos
‚Ä¢ Front-end moderno
‚Ä¢ Otimiza√ß√£o

**üìû Contato:**
‚Ä¢ WhatsApp, Instagram
‚Ä¢ Pre√ßos e or√ßamentos
‚Ä¢ Agendamento

Use os bot√µes acima ou fa√ßa uma pergunta espec√≠fica! üòä`,
          relevance: 0
        }];
      }
      
      return topResults;
    }

    // Fun√ß√£o para gerar bot√µes de a√ß√£o r√°pida din√¢micos
    function generateQuickActions(category = null) {
      // Se n√£o h√° categoria espec√≠fica, mostrar bot√µes principais
      if (!category) {
        return [
          {
            text: 'Servi√ßos',
            question: 'Quais servi√ßos voc√™s oferecem?'
          },
          {
            text: 'Pre√ßos',
            question: 'Tabela de pre√ßos'
          },
          {
            text: 'Pagamento',
            question: 'Formas de pagamento'
          },
          {
            text: 'Contato',
            question: 'Como entrar em contato?'
          }
        ];
      }

      // Adicionar bot√£o "Voltar ao In√≠cio" em todas as categorias secund√°rias
      const backToHome = {
        text: 'üè† In√≠cio',
        question: 'Voltar ao menu principal'
      };

      // Sugest√µes espec√≠ficas por categoria
      const categorySuggestions = {
        'servicos': [
          { text: 'Montagem', question: 'Como funciona a montagem de computadores?' },
          { text: 'Formata√ß√£o', question: 'Servi√ßos de formata√ß√£o' },
          { text: 'Limpeza', question: 'Import√¢ncia da limpeza de computadores' },
          { text: 'Reparo', question: 'Servi√ßos de reparo e diagn√≥stico' },
          backToHome
        ],
        'precos': [
          { text: 'Manuten√ß√£o', question: 'Pre√ßos de servi√ßos de manuten√ß√£o' },
          { text: 'Montagem', question: 'Pre√ßos de montagem de computadores' },
          { text: 'Hardware', question: 'Pre√ßos de hardware e perif√©ricos' },
          { text: 'Pagamento', question: 'Formas de pagamento' },
          backToHome
        ],
        'pagamento': [
          { text: 'PIX', question: 'Pagamento via PIX' },
          { text: 'Cart√£o', question: 'Pagamento com cart√£o' },
          { text: 'Boleto', question: 'Pagamento via boleto' },
          { text: 'Pre√ßos', question: 'Tabela de pre√ßos' },
          backToHome
        ],
        'contato': [
          { text: 'WhatsApp', question: 'Contato via WhatsApp' },
          { text: 'Instagram', question: 'Contato via Instagram' },
          { text: 'GitHub', question: 'Ver projetos no GitHub' },
          { text: 'Servi√ßos', question: 'Quais servi√ßos voc√™s oferecem?' },
          backToHome
        ],
        'hardware': [
          { text: 'Processador', question: 'O que √© um processador?' },
          { text: 'RAM', question: 'O que √© mem√≥ria RAM?' },
          { text: 'Placa de V√≠deo', question: 'O que √© uma placa de v√≠deo?' },
          { text: 'Armazenamento', question: 'Tipos de armazenamento' },
          backToHome
        ],
        'limpeza': [
          { text: 'Frequ√™ncia', question: 'Com que frequ√™ncia limpar o computador?' },
          { text: 'Componentes', question: 'Quais componentes precisam de limpeza?' },
          { text: 'Sinais', question: 'Sinais de que precisa limpeza' },
          { text: 'Servi√ßos', question: 'Servi√ßos de limpeza profissional' },
          backToHome
        ],
        'sistema': [
          { text: 'Windows', question: 'Sobre o Windows' },
          { text: 'Linux', question: 'Sobre o Linux' },
          { text: 'macOS', question: 'Sobre o macOS' },
          { text: 'Formata√ß√£o', question: 'Servi√ßos de formata√ß√£o' },
          backToHome
        ],
        'upgrade': [
          { text: 'SSD', question: 'Upgrade para SSD' },
          { text: 'RAM', question: 'Upgrade de mem√≥ria RAM' },
          { text: 'Processador', question: 'Upgrade de processador' },
          { text: 'Placa de V√≠deo', question: 'Upgrade de placa de v√≠deo' },
          backToHome
        ],
        'problemas': [
          { text: 'Lento', question: 'Computador muito lento' },
          { text: 'N√£o Liga', question: 'Computador n√£o liga' },
          { text: 'Tela Azul', question: 'Tela azul de erro' },
          { text: 'V√≠rus', question: 'Problemas com v√≠rus' },
          backToHome
        ]
      };

      return categorySuggestions[category] || generateQuickActions();
    }

    // Adicionar algumas respostas espec√≠ficas para as op√ß√µes extras
    const extraResponses = {
      'Como funciona o processo de montagem?': {
        response: `üîß **Processo de Montagem de Computadores**

**1. An√°lise de Necessidades**
‚Ä¢ Entendimento do uso pretendido (gaming, trabalho, estudo)
‚Ä¢ Defini√ß√£o do or√ßamento dispon√≠vel
‚Ä¢ Escolha dos componentes adequados

**2. Sele√ß√£o de Componentes**
‚Ä¢ Processador compat√≠vel com a placa-m√£e
‚Ä¢ Mem√≥ria RAM adequada ao uso
‚Ä¢ Placa de v√≠deo para jogos/edi√ß√£o
‚Ä¢ Armazenamento (SSD + HD)
‚Ä¢ Fonte de alimenta√ß√£o adequada

**3. Montagem Profissional**
‚Ä¢ Instala√ß√£o cuidadosa de todos os componentes
‚Ä¢ Organiza√ß√£o dos cabos para melhor ventila√ß√£o
‚Ä¢ Teste de todos os componentes
‚Ä¢ Instala√ß√£o do sistema operacional

**4. Testes e Configura√ß√£o**
‚Ä¢ Teste de stress para verificar estabilidade
‚Ä¢ Instala√ß√£o de drivers atualizados
‚Ä¢ Configura√ß√£o de BIOS/UEFI
‚Ä¢ Teste de performance

**5. Entrega**
‚Ä¢ Computador pronto para uso
‚Ä¢ Garantia de funcionamento
‚Ä¢ Suporte p√≥s-venda`
      },
      'Qual a garantia dos servi√ßos?': {
        response: `üõ°Ô∏è **Garantia dos Servi√ßos**

**Garantia de Montagem:**
‚Ä¢ 90 dias para montagem de computadores
‚Ä¢ Cobertura de defeitos de instala√ß√£o
‚Ä¢ Suporte t√©cnico durante o per√≠odo

**Garantia de Formata√ß√£o:**
‚Ä¢ 30 dias para formata√ß√£o
‚Ä¢ Reinstala√ß√£o gratuita se necess√°rio
‚Ä¢ Backup de dados inclu√≠do

**Garantia de Limpeza:**
‚Ä¢ 15 dias para limpeza
‚Ä¢ Nova limpeza se necess√°rio
‚Ä¢ Verifica√ß√£o de funcionamento

**Garantia de Reparo:**
‚Ä¢ 30 dias para reparos
‚Ä¢ Pe√ßas com garantia do fabricante
‚Ä¢ Teste completo ap√≥s reparo

**Garantia de Hardware:**
‚Ä¢ Garantia original do fabricante
‚Ä¢ Processo de troca facilitado
‚Ä¢ Suporte para acionamento de garantia

**Pol√≠tica de Garantia:**
‚Ä¢ Coberre defeitos de m√£o de obra
‚Ä¢ N√£o cobre danos por mau uso
‚Ä¢ Atendimento priorit√°rio para garantia`
      },
      'Como solicitar um or√ßamento?': {
        response: `üìã **Como Solicitar um Or√ßamento**

**Formas de Contato:**
üì± **WhatsApp**: (11) 93052-2075
üì∏ **Instagram**: @bytesyncinformatic
üéµ **TikTok**: @bytesyncinformatic

**Informa√ß√µes Necess√°rias:**
‚Ä¢ Tipo de servi√ßo desejado
‚Ä¢ Especifica√ß√µes do equipamento (se aplic√°vel)
‚Ä¢ Or√ßamento dispon√≠vel
‚Ä¢ Prazo desejado
‚Ä¢ Localiza√ß√£o para atendimento

**Processo do Or√ßamento:**
1. **Contato inicial** - Descreva sua necessidade
2. **An√°lise t√©cnica** - Avalia√ß√£o do equipamento/servi√ßo
3. **Proposta detalhada** - Or√ßamento com especifica√ß√µes
4. **Aprova√ß√£o** - Confirma√ß√£o do cliente
5. **Agendamento** - Defini√ß√£o de data e hor√°rio

**Tipos de Or√ßamento:**
‚Ä¢ **Or√ßamento gratuito** para todos os servi√ßos
‚Ä¢ **Or√ßamento presencial** quando necess√°rio
‚Ä¢ **Or√ßamento por foto/v√≠deo** para diagn√≥sticos
‚Ä¢ **Or√ßamento express** para emerg√™ncias

**Vantagens:**
‚Ä¢ Sem compromisso
‚Ä¢ Resposta r√°pida
‚Ä¢ Especifica√ß√µes detalhadas
‚Ä¢ Garantia inclu√≠da`
      }
    };

    // Fun√ß√£o para voltar ao menu principal
    function goToMainMenu() {
      updateQuickActions(); // Volta aos bot√µes principais
      addMessage(`üè† **Menu Principal**

Bem-vindo de volta! Como posso ajud√°-lo hoje?

**üíª Servi√ßos de TI:**
‚Ä¢ Montagem de computadores
‚Ä¢ Formata√ß√£o e sistemas
‚Ä¢ Limpeza e manuten√ß√£o
‚Ä¢ Reparo e diagn√≥stico

**üõí Hardware:**
‚Ä¢ Processadores, RAM, HD/SSD
‚Ä¢ Placas de v√≠deo, fontes
‚Ä¢ Perif√©ricos e componentes

**üåê Desenvolvimento Web:**
‚Ä¢ Sites responsivos
‚Ä¢ Front-end moderno
‚Ä¢ Otimiza√ß√£o

**üìû Contato:**
‚Ä¢ WhatsApp, Instagram
‚Ä¢ Pre√ßos e or√ßamentos
‚Ä¢ Agendamento

Escolha uma op√ß√£o ou fa√ßa sua pergunta! üòä`);
      
      // Adicionar pergunta de avalia√ß√£o ap√≥s 1 segundo
      setTimeout(() => {
        showEvaluationQuestion();
      }, isMobile ? 800 : 1000);
    }

    // Fun√ß√£o para mostrar pergunta de avalia√ß√£o
    function showEvaluationQuestion() {
      const evaluationMessage = document.createElement('div');
      evaluationMessage.className = 'message assistant evaluation-question';
      evaluationMessage.innerHTML = `
        <div style="margin-bottom: 10px;">
          <strong>ü§î Consegui esclarecer sua d√∫vida?</strong>
        </div>
        <div class="evaluation-buttons">
          <button class="eval-btn eval-yes" onclick="handleEvaluation('yes')">‚úÖ Sim</button>
          <button class="eval-btn eval-no" onclick="handleEvaluation('no')">‚ùå N√£o</button>
        </div>
      `;
      chatMessages.appendChild(evaluationMessage);
      
      // Scroll suave para mobile
      if (isMobile) {
        setTimeout(() => {
          chatMessages.scrollTo({
            top: chatMessages.scrollHeight,
            behavior: 'smooth'
          });
        }, 100);
      } else {
        chatMessages.scrollTop = chatMessages.scrollHeight;
      }
      
      // Adicionar event listeners para prevenir propaga√ß√£o
      const evalButtons = evaluationMessage.querySelectorAll('.eval-btn');
      evalButtons.forEach(button => {
        button.addEventListener('click', (e) => {
          e.stopPropagation();
        });
      });
    }

    // Fun√ß√£o para lidar com a avalia√ß√£o
    function handleEvaluation(response) {
      // Remover bot√µes de avalia√ß√£o
      const evaluationQuestion = document.querySelector('.evaluation-question');
      if (evaluationQuestion) {
        evaluationQuestion.remove();
      }

      if (response === 'yes') {
        addMessage(`üéâ **√ìtimo!** Fico feliz em ter ajudado!

Se precisar de mais alguma coisa, estou aqui! üòä`, false);
      } else {
        // Se escolheu "N√£o", oferecer mais op√ß√µes relacionadas
        showMoreOptions();
      }
    }

    // Fun√ß√£o para mostrar mais op√ß√µes quando a resposta n√£o foi satisfat√≥ria
    function showMoreOptions() {
      // Obter a √∫ltima categoria respondida
      const lastCategory = getLastResponseCategory();
      
      addMessage(`ü§ù **Entendo!** Vou tentar ajudar melhor.

Aqui est√£o mais op√ß√µes relacionadas:`, false);
      
      // Mostrar op√ß√µes espec√≠ficas baseadas na categoria
      const moreOptions = getMoreOptionsForCategory(lastCategory);
      updateQuickActionsWithOptions(moreOptions);
    }

    // Fun√ß√£o para obter a √∫ltima categoria respondida
    function getLastResponseCategory() {
      // Buscar na base de conhecimento qual categoria foi usada na √∫ltima resposta
      // Por simplicidade, vamos usar uma vari√°vel global para rastrear
      return window.lastResponseCategory || 'default';
    }

    // Fun√ß√£o para obter mais op√ß√µes baseadas na categoria
    function getMoreOptionsForCategory(category) {
      const moreOptions = {
        'servicos': [
          { text: 'Detalhes Montagem', question: 'Como funciona o processo de montagem?' },
          { text: 'Garantia', question: 'Qual a garantia dos servi√ßos?' },
          { text: 'Prazo', question: 'Qual o prazo de entrega?' },
          { text: 'Or√ßamento', question: 'Como solicitar um or√ßamento?' },
          { text: 'üè† In√≠cio', question: 'Voltar ao menu principal' }
        ],
        'precos': [
          { text: 'Descontos', question: 'Voc√™s oferecem descontos?' },
          { text: 'Parcelamento', question: 'Formas de parcelamento' },
          { text: 'Or√ßamento', question: 'Como solicitar um or√ßamento?' },
          { text: 'Comparativo', question: 'Comparativo de pre√ßos' },
          { text: 'üè† In√≠cio', question: 'Voltar ao menu principal' }
        ],
        'pagamento': [
          { text: 'Seguran√ßa', question: 'Seguran√ßa dos pagamentos' },
          { text: 'Comprovante', question: 'Comprovante de pagamento' },
          { text: 'Reembolso', question: 'Pol√≠tica de reembolso' },
          { text: 'Or√ßamento', question: 'Como solicitar um or√ßamento?' },
          { text: 'üè† In√≠cio', question: 'Voltar ao menu principal' }
        ],
        'contato': [
          { text: 'Hor√°rio', question: 'Hor√°rio de atendimento' },
          { text: 'Localiza√ß√£o', question: 'Localiza√ß√£o da empresa' },
          { text: 'Urg√™ncia', question: 'Contato para emerg√™ncias' },
          { text: 'Agendamento', question: 'Como agendar um servi√ßo?' },
          { text: 'üè† In√≠cio', question: 'Voltar ao menu principal' }
        ],
        'hardware': [
          { text: 'Compatibilidade', question: 'Como verificar compatibilidade?' },
          { text: 'Performance', question: 'Como escolher hardware?' },
          { text: 'Marcas', question: 'Quais marcas voc√™s trabalham?' },
          { text: 'Garantia', question: 'Garantia dos produtos' },
          { text: 'üè† In√≠cio', question: 'Voltar ao menu principal' }
        ],
        'limpeza': [
          { text: 'Produtos', question: 'Quais produtos usam na limpeza?' },
          { text: 'Preventiva', question: 'Dicas de manuten√ß√£o preventiva' },
          { text: 'Agendamento', question: 'Como agendar uma limpeza?' },
          { text: 'Urg√™ncia', question: 'Limpeza de emerg√™ncia' },
          { text: 'üè† In√≠cio', question: 'Voltar ao menu principal' }
        ],
        'sistema': [
          { text: 'Migra√ß√£o', question: 'Como migrar de sistema?' },
          { text: 'Backup', question: 'Backup antes da formata√ß√£o' },
          { text: 'Drivers', question: 'Instala√ß√£o de drivers' },
          { text: 'Seguran√ßa', question: 'Dicas de seguran√ßa' },
          { text: 'üè† In√≠cio', question: 'Voltar ao menu principal' }
        ],
        'upgrade': [
          { text: 'Diagn√≥stico', question: 'Diagn√≥stico para upgrade' },
          { text: 'Or√ßamento', question: 'Or√ßamento de upgrade' },
          { text: 'Compatibilidade', question: 'Verificar compatibilidade' },
          { text: 'Performance', question: 'Melhorias de performance' },
          { text: 'üè† In√≠cio', question: 'Voltar ao menu principal' }
        ],
        'problemas': [
          { text: 'Diagn√≥stico', question: 'Diagn√≥stico profissional' },
          { text: 'Urg√™ncia', question: 'Problemas urgentes' },
          { text: 'Preven√ß√£o', question: 'Como prevenir problemas?' },
          { text: 'Garantia', question: 'Garantia de reparo' },
          { text: 'üè† In√≠cio', question: 'Voltar ao menu principal' }
        ],
        'default': [
          { text: 'Servi√ßos', question: 'Quais servi√ßos voc√™s oferecem?' },
          { text: 'Pre√ßos', question: 'Tabela de pre√ßos' },
          { text: 'Pagamento', question: 'Formas de pagamento' },
          { text: 'Contato', question: 'Como entrar em contato?' }
        ]
      };

      return moreOptions[category] || moreOptions['default'];
    }

    // Fun√ß√£o para atualizar bot√µes com op√ß√µes espec√≠ficas
    function updateQuickActionsWithOptions(options) {
      const quickActionsContainer = document.querySelector('.quick-actions');
      
      // Limpar bot√µes existentes
      quickActionsContainer.innerHTML = '';
      
      // Adicionar novas op√ß√µes
      options.forEach(action => {
        const button = document.createElement('button');
        button.className = 'quick-action-btn';
        button.textContent = action.text;
        
        // Adicionar feedback t√°til em mobile
        if (isMobile) {
          button.addEventListener('touchstart', () => {
            button.style.transform = 'scale(0.95)';
          });
          button.addEventListener('touchend', () => {
            button.style.transform = '';
          });
        }
        
        button.onclick = (e) => {
          e.stopPropagation();
          sendQuickMessage(action.question);
        };
        quickActionsContainer.appendChild(button);
      });
    }

          // Fun√ß√£o para obter nome de exibi√ß√£o da categoria
      function getCategoryDisplayName(category) {
        const displayNames = {
          'servicos': 'Servi√ßos',
          'contato': 'Contato',
          'tecnologias': 'Tecnologias',
          'precos': 'Pre√ßos',
          'pagamento': 'Pagamento',
          'limpeza': 'Limpeza',
          'memoria': 'RAM',
          'hardware': 'Hardware',
          'processador': 'Processador',
          'placa_video': 'Placa de V√≠deo',
          'armazenamento': 'Armazenamento',
          'fonte': 'Fonte',
          'sistema': 'Sistema',
          'upgrade': 'Upgrade',
          'problemas': 'Problemas'
        };
        return displayNames[category] || category;
      }

    // Fun√ß√£o para adicionar mensagem ao chat
    function addMessage(message, isUser = false) {
      const messageDiv = document.createElement('div');
      messageDiv.className = `message ${isUser ? 'user' : 'assistant'}`;
      messageDiv.innerHTML = message;
      chatMessages.appendChild(messageDiv);
      
      // Scroll suave para mobile, instant√¢neo para desktop
      if (isMobile) {
        setTimeout(() => {
          chatMessages.scrollTo({
            top: chatMessages.scrollHeight,
            behavior: 'smooth'
          });
        }, 100);
      } else {
        chatMessages.scrollTop = chatMessages.scrollHeight;
      }
    }

    // Fun√ß√£o para mostrar indicador de digita√ß√£o
    function showTyping() {
      typingIndicator.classList.add('show');
      
      // Scroll suave para mobile
      if (isMobile) {
        setTimeout(() => {
          chatMessages.scrollTo({
            top: chatMessages.scrollHeight,
            behavior: 'smooth'
          });
        }, 100);
      } else {
        chatMessages.scrollTop = chatMessages.scrollHeight;
      }
    }

    // Fun√ß√£o para esconder indicador de digita√ß√£o
    function hideTyping() {
      typingIndicator.classList.remove('show');
    }

    // Fun√ß√£o para simular resposta da IA
    function simulateAIResponse(userMessage) {
      showTyping();
      
      // Tempo de processamento mais r√°pido em mobile
      const processingTime = isMobile ? 800 + Math.random() * 1200 : 1000 + Math.random() * 2000;
      
      setTimeout(() => {
        hideTyping();
        const responses = findBestResponses(userMessage, 1); // Apenas 1 resposta
        
        // Resposta √∫nica
        addMessage(responses[0].response);
        
        // Atualizar bot√µes baseado na categoria da resposta
        const category = responses[0].category;
        updateQuickActions(category);
        
        // Rastrear a categoria da √∫ltima resposta para uso posterior
        window.lastResponseCategory = category;
        
        // Adicionar pergunta de avalia√ß√£o ap√≥s 1 segundo (exceto para mensagem inicial)
        if (!userMessage.includes('Voltar ao menu principal')) {
          setTimeout(() => {
            showEvaluationQuestion();
          }, isMobile ? 800 : 1000);
        }
      }, processingTime);
    }

    // Fun√ß√£o para enviar mensagem
    function sendMessage() {
      const message = chatInput.value.trim();
      if (!message) return;
      
      // Rastrear pesquisa do usu√°rio
      trackUserSearch(message);
      
      // Adicionar mensagem do usu√°rio
      addMessage(message, true);
      chatInput.value = '';
      
      // Em mobile, esconder o teclado ap√≥s enviar
      if (isMobile) {
        chatInput.blur();
      }
      
      // Simular resposta da IA
      simulateAIResponse(message);
    }

    // Fun√ß√£o para atualizar bot√µes de a√ß√£o r√°pida din√¢micos
    function updateQuickActions(category = null) {
      const quickActionsContainer = document.querySelector('.quick-actions');
      const quickActions = generateQuickActions(category);
      
      // Limpar bot√µes existentes
      quickActionsContainer.innerHTML = '';
      
      // Adicionar bot√µes baseados na categoria
      quickActions.forEach(action => {
        const button = document.createElement('button');
        button.className = 'quick-action-btn';
        button.textContent = action.text;
        
        // Adicionar feedback t√°til em mobile
        if (isMobile) {
          button.addEventListener('touchstart', () => {
            button.style.transform = 'scale(0.95)';
          });
          button.addEventListener('touchend', () => {
            button.style.transform = '';
          });
        }
        
        button.onclick = (e) => {
          e.stopPropagation();
          sendQuickMessage(action.question);
        };
        quickActionsContainer.appendChild(button);
      });
    }

    // Fun√ß√£o para enviar mensagem r√°pida
    function sendQuickMessage(message) {
      // Verificar se √© para voltar ao menu principal
      if (message === 'Voltar ao menu principal') {
        addMessage(message, true);
        goToMainMenu();
        return;
      }
      
      // Rastrear pesquisa do usu√°rio
      trackUserSearch(message);
      
      addMessage(message, true);
      
      // Em mobile, esconder o teclado se estiver aberto
      if (isMobile && document.activeElement === chatInput) {
        chatInput.blur();
      }
      
      simulateAIResponse(message);
    }

    // Event listeners para o chat
    chatInput.addEventListener('keypress', (e) => {
      if (e.key === 'Enter') {
        sendMessage();
      }
    });

    // Event listener para o bot√£o de enviar
    sendBtn.addEventListener('click', (e) => {
      e.stopPropagation();
      sendMessage();
    });

    // Desabilitar bot√£o quando input estiver vazio
    chatInput.addEventListener('input', () => {
      sendBtn.disabled = !chatInput.value.trim();
    });

    // Focar no input quando a assistente abrir
    assistantToggle.addEventListener('click', () => {
      if (!isAssistantOpen) {
        setTimeout(() => {
          chatInput.focus();
          // Em mobile, scroll para o input quando o teclado aparecer
          if (isMobile) {
            setTimeout(() => {
              chatInput.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }, 500);
          }
        }, 300);
      }
    });

    // Otimiza√ß√µes para teclado virtual em mobile
    if (isMobile) {
      // Ajustar viewport quando o teclado aparecer
      let initialViewportHeight = window.innerHeight;
      
      window.addEventListener('resize', () => {
        const currentHeight = window.innerHeight;
        const heightDifference = initialViewportHeight - currentHeight;
        
        // Se a altura diminuiu significativamente, provavelmente o teclado apareceu
        if (heightDifference > 150) {
          // Ajustar a altura da assistente
          const assistantContent = document.querySelector('.assistant-content');
          if (assistantContent) {
            assistantContent.style.height = `${currentHeight - 200}px`;
            assistantContent.style.maxHeight = `${currentHeight - 200}px`;
          }
        } else {
          // Restaurar altura normal
          const assistantContent = document.querySelector('.assistant-content');
          if (assistantContent) {
            assistantContent.style.height = '';
            assistantContent.style.maxHeight = '';
          }
        }
      });

      // Prevenir scroll da p√°gina quando o teclado estiver aberto
      chatInput.addEventListener('focus', () => {
        setTimeout(() => {
          document.body.style.position = 'fixed';
          document.body.style.width = '100%';
        }, 100);
      });

      chatInput.addEventListener('blur', () => {
        setTimeout(() => {
          document.body.style.position = '';
          document.body.style.width = '';
        }, 100);
      });
    }

    // Inicializar bot√µes de a√ß√£o r√°pida din√¢micos
    updateQuickActions();
    
    // Otimiza√ß√µes espec√≠ficas para mobile
    if (isMobile) {
      // Prevenir zoom em toque duplo
      let lastTouchEnd = 0;
      document.addEventListener('touchend', (event) => {
        const now = (new Date()).getTime();
        if (now - lastTouchEnd <= 300) {
          event.preventDefault();
        }
        lastTouchEnd = now;
      }, false);
      
      // Melhorar performance de scroll
      document.addEventListener('touchmove', (e) => {
        if (e.target.closest('.chat-messages')) {
          e.target.style.willChange = 'transform';
        }
      }, { passive: true });
      
      // Otimizar para teclado virtual
      const viewport = document.querySelector('meta[name=viewport]');
      if (viewport) {
        viewport.setAttribute('content', 'width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover');
      }
    }
    
    // Debug: Mostrar que IA est√° ativa
    console.log(`IA inicializada com bot√µes din√¢micos - Mobile: ${isMobile}`);
  </script>
</body>
</html>
